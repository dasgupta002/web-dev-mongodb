<html>
<head>
    <title>File Upload System Web App</title>
    <link rel = "stylesheet" 
          href = "https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
          integrity = "sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
          crossorigin = "anonymous"
    >
    <style>
        img {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class = "container">
        <div class = "row">
            <div class = "col-md-6 m-auto">
                <h1 class = "text-center display-4 my-4">Mongo Uploads</h1>
                <form action = "/upload" method = "POST" enctype = "multipart/form-data">
                    <div class = "custom-file mb-3">
                        <input type = "file" name = "file" id = "file" class = "custom-file-input">
                        <label for = "file" class = "custom-file-label">Choose your pick!</label>
                    </div>
                    <button type = "submit" class = "btn btn-primary btn-block">Dump to heap!</button>
                </form>
                <hr>
                <% if(files) { %>
                    <% files.forEach(function(file) { %>
                        <div class = "card card-body mb-3">
                            <% if(file.isImage) { %>
                                <img src = "/images/<%= file.filename %>">
                            <% } else { %>
                                <%= file.filename %>
                            <% } %>      
                            <form action = "/files/<%= file._id %>?_method=DELETE" method = "POST">
                                <button class = "btn btn-danger btn-block mt-4">Delete</button>
                            </form>  
                        </div>
                    <% }) %>
                <% } %>    
            </div>
        </div>
    </div>
</body>
</html>